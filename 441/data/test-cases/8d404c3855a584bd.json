{"uid":"8d404c3855a584bd","name":"Применение валидного промокода к неподходящему товару","fullName":"tests.test_checkout#test_checkout_aplying_a_valid_promo_code_on_not_stm_product","historyId":"0db0791df25f1cf3b277d7a140fffd12","time":{"start":1738695267474,"stop":1738695289356,"duration":21882},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Применение валидного промокода к неподходящему товару\")\n    def test_checkout_aplying_a_valid_promo_code_on_not_stm_product(page_fixture, base_url):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n        cart_page.add_to_cart_not_stm_product(base_url)\n        checkout_page.open(base_url)\n        checkout_page.promo_code.check_promo_code()\n        checkout_page.promo_code.activate_valid_promo_code()\n        with allure.step(\"Проверяю, что на странице отображается подсказка 'В корзине нет товаров, к которым можно применить введенный промокод'\"):\n>           expect(checkout_page.promo_code.promo_code_field_info()).to_have_text(\"В корзине нет товаров, к которым можно применить введенный промокод\")\nE           AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_have_text with timeout 5000ms\nE             - waiting for locator(\".Field__Info .Field__Text\")\n\ntests/test_checkout.py:92: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"_session_faker","time":{"start":1738693867852,"stop":1738693867905,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1738693867906,"stop":1738693867906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1738693867906,"stop":1738693867906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1738693867906,"stop":1738693868109,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1738693867906,"stop":1738693867906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1738693867906,"stop":1738693867906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1738693867906,"stop":1738693867906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1738693867906,"stop":1738693867906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1738693868109,"stop":1738693868109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1738693868109,"stop":1738693868109,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1738693868110,"stop":1738693868297,"duration":187},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1738695267384,"stop":1738695267474,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Применение валидного промокода к неподходящему товару\")\n    def test_checkout_aplying_a_valid_promo_code_on_not_stm_product(page_fixture, base_url):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n        cart_page.add_to_cart_not_stm_product(base_url)\n        checkout_page.open(base_url)\n        checkout_page.promo_code.check_promo_code()\n        checkout_page.promo_code.activate_valid_promo_code()\n        with allure.step(\"Проверяю, что на странице отображается подсказка 'В корзине нет товаров, к которым можно применить введенный промокод'\"):\n>           expect(checkout_page.promo_code.promo_code_field_info()).to_have_text(\"В корзине нет товаров, к которым можно применить введенный промокод\")\nE           AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_have_text with timeout 5000ms\nE             - waiting for locator(\".Field__Info .Field__Text\")\n\ntests/test_checkout.py:92: AssertionError","steps":[{"name":"Открываю https://garwin.ru/cart","time":{"start":1738695267474,"stop":1738695271247,"duration":3773},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1738695271247,"stop":1738695273403,"duration":2156},"status":"passed","steps":[{"name":"Нажимаю на кнопку 'Удалить'","time":{"start":1738695271283,"stop":1738695272335,"duration":1052},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Подтверждаю удаление","time":{"start":1738695272335,"stop":1738695273403,"duration":1068},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Добавляю несколько привлеченных позиций в корзину","time":{"start":1738695273403,"stop":1738695278724,"duration":5321},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://garwin.ru/checkout","time":{"start":1738695278724,"stop":1738695281173,"duration":2449},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Отменяю промокод если он был установлен","time":{"start":1738695281173,"stop":1738695282252,"duration":1079},"status":"passed","steps":[{"name":"Открываю блок 'Промокод'","time":{"start":1738695281173,"stop":1738695282242,"duration":1069},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Активирую валидный промокод","time":{"start":1738695282252,"stop":1738695284341,"duration":2089},"status":"passed","steps":[{"name":"Ввожу валидный промокод","time":{"start":1738695282252,"stop":1738695283278,"duration":1026},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаю 'Применить'","time":{"start":1738695283278,"stop":1738695284341,"duration":1063},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что на странице отображается подсказка 'В корзине нет товаров, к которым можно применить введенный промокод'","time":{"start":1738695284341,"stop":1738695289356,"duration":5015},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")\n\n","statusTrace":"  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/tests/test_checkout.py\", line 92, in test_checkout_aplying_a_valid_promo_code_on_not_stm_product\n    expect(checkout_page.promo_code.promo_code_field_info()).to_have_text(\"В корзине нет товаров, к которым можно применить введенный промокод\")\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20408, in to_have_text\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 471, in to_have_text\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 70, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":12,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1738695289378,"stop":1738695289814,"duration":436},"status":"passed","steps":[],"attachments":[{"uid":"33fba002c1ef46be","name":"trace","source":"33fba002c1ef46be.zip","type":"application/zip","size":3201158},{"uid":"62aece1286ecd9b4","name":"failure_screenshot","source":"62aece1286ecd9b4.png","type":"image/png","size":243266},{"uid":"7ff032151158ac13","name":"page_source","source":"7ff032151158ac13.html","type":"text/html","size":290268},{"uid":"f52f2b74a2b05116","name":"network_logs","source":"f52f2b74a2b05116.json","type":"application/json","size":2}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1738696336209,"stop":1738696336508,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1738696336516,"stop":1738696336529,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"auth"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_checkout"},{"name":"host","value":"fv-az979-916"},{"name":"thread","value":"4756-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_checkout"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"66257349ebc6df79","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Timeout 30000ms exceeded.","time":{"start":1738695215870,"stop":1738695263697,"duration":47827}},{"uid":"ba8ec0367651b1c6","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","time":{"start":1738695190661,"stop":1738695212245,"duration":21584}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":7,"broken":1,"skipped":4,"passed":144,"unknown":0,"total":156},"items":[{"uid":"f3f67895c395a6cc","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/440//#testresult/f3f67895c395a6cc","status":"passed","time":{"start":1738694566856,"stop":1738694582769,"duration":15913}},{"uid":"3556085c7fe1e2f9","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/439//#testresult/3556085c7fe1e2f9","status":"passed","time":{"start":1738673770834,"stop":1738673785466,"duration":14632}},{"uid":"5370d4a2e16d1316","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/438//#testresult/5370d4a2e16d1316","status":"passed","time":{"start":1738670041795,"stop":1738670058130,"duration":16335}},{"uid":"26d579ce4b502246","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/437//#testresult/26d579ce4b502246","status":"passed","time":{"start":1738634154512,"stop":1738634169706,"duration":15194}},{"uid":"761e3a82328ea973","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/436//#testresult/761e3a82328ea973","status":"passed","time":{"start":1738587352930,"stop":1738587369536,"duration":16606}},{"uid":"a9136fb67625db93","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/435//#testresult/a9136fb67625db93","status":"passed","time":{"start":1738547839867,"stop":1738547855766,"duration":15899}},{"uid":"97c146d4178dc5f2","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/434//#testresult/97c146d4178dc5f2","status":"passed","time":{"start":1738500640979,"stop":1738500657660,"duration":16681}},{"uid":"a15ee87a4ca51de3","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/433//#testresult/a15ee87a4ca51de3","status":"passed","time":{"start":1738461615701,"stop":1738461631817,"duration":16116}},{"uid":"bb5b848bbc1446eb","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/432//#testresult/bb5b848bbc1446eb","status":"passed","time":{"start":1738414246580,"stop":1738414263359,"duration":16779}},{"uid":"5d677610358c6c16","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/431//#testresult/5d677610358c6c16","status":"passed","time":{"start":1738375292645,"stop":1738375310258,"duration":17613}},{"uid":"40cabce825b378d6","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/430//#testresult/40cabce825b378d6","status":"passed","time":{"start":1738328049986,"stop":1738328064913,"duration":14927}},{"uid":"6562912766ff82ed","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/429//#testresult/6562912766ff82ed","status":"passed","time":{"start":1738288617372,"stop":1738288635999,"duration":18627}},{"uid":"9597036050a64a78","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/428//#testresult/9597036050a64a78","status":"passed","time":{"start":1738241642421,"stop":1738241657500,"duration":15079}},{"uid":"b28193100ae42d92","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/427//#testresult/b28193100ae42d92","status":"passed","time":{"start":1738202021088,"stop":1738202035403,"duration":14315}},{"uid":"9428c7e30d53f0e","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/426//#testresult/9428c7e30d53f0e","status":"passed","time":{"start":1738162548846,"stop":1738162566098,"duration":17252}},{"uid":"e7a1445f7cf2868c","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/424//#testresult/e7a1445f7cf2868c","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: Промокод не действителен \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\">Промокод не действителен</p>\n  -   unexpected value \"Промокод не действителен\"","time":{"start":1738160552067,"stop":1738160573005,"duration":20938}},{"uid":"6ba2fe1bd577fa76","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/425//#testresult/6ba2fe1bd577fa76","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","time":{"start":1738160215109,"stop":1738160233082,"duration":17973}},{"uid":"523baadcc03d63d0","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/423//#testresult/523baadcc03d63d0","status":"passed","time":{"start":1738155256156,"stop":1738155272370,"duration":16214}},{"uid":"589c7f340d5b4667","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/422//#testresult/589c7f340d5b4667","status":"passed","time":{"start":1738115734899,"stop":1738115749742,"duration":14843}},{"uid":"c5a70e71d190d243","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/421//#testresult/c5a70e71d190d243","status":"passed","time":{"start":1738082416060,"stop":1738082431981,"duration":15921}}]},"tags":["auth"]},"source":"8d404c3855a584bd.json","parameterValues":["'chromium'"]}