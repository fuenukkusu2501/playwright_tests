{"uid":"6ba2fe1bd577fa76","name":"Применение валидного промокода к неподходящему товару","fullName":"tests.test_checkout#test_checkout_aplying_a_valid_promo_code_on_not_stm_product","historyId":"0db0791df25f1cf3b277d7a140fffd12","time":{"start":1738160215109,"stop":1738160233082,"duration":17973},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Применение валидного промокода к неподходящему товару\")\n    def test_checkout_aplying_a_valid_promo_code_on_not_stm_product(page_fixture, base_url):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n        cart_page.add_to_cart_not_stm_product(base_url)\n        checkout_page.open(base_url)\n        checkout_page.promo_code.check_promo_code()\n        checkout_page.promo_code.activate_valid_promo_code()\n        with allure.step(\"Проверяю, что на странице отображается подсказка 'В корзине нет товаров, к которым можно применить введенный промокод'\"):\n>           expect(checkout_page.promo_code.promo_code_field_info()).to_have_text(\"В корзине нет товаров, к которым можно применить введенный промокод\")\nE           AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_have_text with timeout 5000ms\nE             - waiting for locator(\".Field__Info .Field__Text\")\n\ntests/test_checkout.py:89: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1738159585831,"stop":1738159585884,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1738159585884,"stop":1738159585884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1738159585885,"stop":1738159585885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1738159585885,"stop":1738159585885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1738159585885,"stop":1738159585885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1738159585885,"stop":1738159586086,"duration":201},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1738159585885,"stop":1738159585885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1738159585885,"stop":1738159585885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1738159586086,"stop":1738159586283,"duration":197},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1738159586086,"stop":1738159586086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1738159586086,"stop":1738159586086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1738160215019,"stop":1738160215109,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","statusTrace":"page_fixture = <Page url='https://garwin.ru/checkout'>\nbase_url = 'https://garwin.ru'\n\n    @pytest.mark.auth\n    @allure.title(\"Применение валидного промокода к неподходящему товару\")\n    def test_checkout_aplying_a_valid_promo_code_on_not_stm_product(page_fixture, base_url):\n        checkout_page = CheckoutPage(page_fixture)\n        cart_page = CartPage(page_fixture)\n        cart_page.open(base_url)\n        cart_page.clear_cart()\n        cart_page.add_to_cart_not_stm_product(base_url)\n        checkout_page.open(base_url)\n        checkout_page.promo_code.check_promo_code()\n        checkout_page.promo_code.activate_valid_promo_code()\n        with allure.step(\"Проверяю, что на странице отображается подсказка 'В корзине нет товаров, к которым можно применить введенный промокод'\"):\n>           expect(checkout_page.promo_code.promo_code_field_info()).to_have_text(\"В корзине нет товаров, к которым можно применить введенный промокод\")\nE           AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nE           Actual value: None \nE           Call log:\nE           LocatorAssertions.to_have_text with timeout 5000ms\nE             - waiting for locator(\".Field__Info .Field__Text\")\n\ntests/test_checkout.py:89: AssertionError","steps":[{"name":"Открываю https://garwin.ru/cart","time":{"start":1738160215109,"stop":1738160218100,"duration":2991},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Очищаю корзину","time":{"start":1738160218100,"stop":1738160218135,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Добавляю несколько привлеченных позиций в корзину","time":{"start":1738160218135,"stop":1738160222775,"duration":4640},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Открываю https://garwin.ru/checkout","time":{"start":1738160222775,"stop":1738160224889,"duration":2114},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Отменяю промокод если он был установлен","time":{"start":1738160224890,"stop":1738160225986,"duration":1096},"status":"passed","steps":[{"name":"Открываю блок 'Промокод'","time":{"start":1738160224890,"stop":1738160225973,"duration":1083},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Активирую валидный промокод","time":{"start":1738160225986,"stop":1738160228073,"duration":2087},"status":"passed","steps":[{"name":"Ввожу валидный промокод","time":{"start":1738160225986,"stop":1738160227015,"duration":1029},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Нажимаю 'Применить'","time":{"start":1738160227015,"stop":1738160228073,"duration":1058},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяю, что на странице отображается подсказка 'В корзине нет товаров, к которым можно применить введенный промокод'","time":{"start":1738160228073,"stop":1738160233082,"duration":5009},"status":"failed","statusMessage":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")\n\n","statusTrace":"  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/tests/test_checkout.py\", line 89, in test_checkout_aplying_a_valid_promo_code_on_not_stm_product\n    expect(checkout_page.promo_code.promo_code_field_info()).to_have_text(\"В корзине нет товаров, к которым можно применить введенный промокод\")\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 20408, in to_have_text\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 471, in to_have_text\n    await self._expect_impl(\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_assertions.py\", line 70, in _expect_impl\n    raise AssertionError(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":10,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1738160233097,"stop":1738160233495,"duration":398},"status":"passed","steps":[],"attachments":[{"uid":"1b3ac5ddc9b17256","name":"trace","source":"1b3ac5ddc9b17256.zip","type":"application/zip","size":2109079},{"uid":"63dec61af11251c1","name":"failure_screenshot","source":"63dec61af11251c1.png","type":"image/png","size":245691},{"uid":"7770b312c1d2a9e9","name":"page_source","source":"7770b312c1d2a9e9.html","type":"text/html","size":288700},{"uid":"5bfca4cf3d8104eb","name":"network_logs","source":"5bfca4cf3d8104eb.json","type":"application/json","size":2}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1738161044832,"stop":1738161045054,"duration":222},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1738161045059,"stop":1738161045070,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"auth"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_checkout"},{"name":"host","value":"fv-az2031-398"},{"name":"thread","value":"4598-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_checkout"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"f5b3bf0db1ceac8c","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","time":{"start":1738160192327,"stop":1738160211585,"duration":19258}},{"uid":"c6dd43ddb7552d4c","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","time":{"start":1738160168470,"stop":1738160188755,"duration":20285}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":1,"skipped":4,"passed":129,"unknown":0,"total":139},"items":[{"uid":"523baadcc03d63d0","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/423//#testresult/523baadcc03d63d0","status":"passed","time":{"start":1738155256156,"stop":1738155272370,"duration":16214}},{"uid":"589c7f340d5b4667","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/422//#testresult/589c7f340d5b4667","status":"passed","time":{"start":1738115734899,"stop":1738115749742,"duration":14843}},{"uid":"c5a70e71d190d243","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/421//#testresult/c5a70e71d190d243","status":"passed","time":{"start":1738082416060,"stop":1738082431981,"duration":15921}},{"uid":"38bf7d2c22891d52","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/420//#testresult/38bf7d2c22891d52","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value:  \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\"></p>\n  -   unexpected value \"\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\"></p>\n  -   unexpected value \"\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\"></p>\n  -   unexpected value \"\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\"></p>\n  -   unexpected value \"\"\n  -   locator resolved to <p data-v-f990f42a=\"\" class=\"Field__Text\"></p>\n  -   unexpected value \"\"","time":{"start":1738082146512,"stop":1738082165381,"duration":18869}},{"uid":"f80ee19386b8414","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/419//#testresult/f80ee19386b8414","status":"passed","time":{"start":1738068888109,"stop":1738068905958,"duration":17849}},{"uid":"c0ca7ad0f7876954","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/417//#testresult/c0ca7ad0f7876954","status":"passed","time":{"start":1738063073445,"stop":1738063089207,"duration":15762}},{"uid":"6941b8be5c64e2de","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/418//#testresult/6941b8be5c64e2de","status":"passed","time":{"start":1738063168537,"stop":1738063183235,"duration":14698}},{"uid":"1ecba21a78d4d673","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/416//#testresult/1ecba21a78d4d673","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","time":{"start":1738058157556,"stop":1738058179015,"duration":21459}},{"uid":"18481815c5f3592","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/415//#testresult/18481815c5f3592","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","time":{"start":1738058061979,"stop":1738058081375,"duration":19396}},{"uid":"f679006a747f66ae","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/413//#testresult/f679006a747f66ae","status":"failed","statusDetails":"AssertionError: Locator expected to have text 'В корзине нет товаров, к которым можно применить введенный промокод'\nActual value: None \nCall log:\nLocatorAssertions.to_have_text with timeout 5000ms\n  - waiting for locator(\".Field__Info .Field__Text\")","time":{"start":1738051348426,"stop":1738051368610,"duration":20184}},{"uid":"9aeccd4f13e47e84","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/414//#testresult/9aeccd4f13e47e84","status":"passed","time":{"start":1738050688977,"stop":1738050703976,"duration":14999}},{"uid":"9eabe830aae52f0","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/412//#testresult/9eabe830aae52f0","status":"passed","time":{"start":1738029323830,"stop":1738029338165,"duration":14335}},{"uid":"8a0df5960454236b","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/411//#testresult/8a0df5960454236b","status":"passed","time":{"start":1737982538523,"stop":1737982553818,"duration":15295}},{"uid":"79bce734d306140","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/410//#testresult/79bce734d306140","status":"passed","time":{"start":1737943054767,"stop":1737943069036,"duration":14269}},{"uid":"cb4a9ab02d5b55eb","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/408//#testresult/cb4a9ab02d5b55eb","status":"passed","time":{"start":1737917738146,"stop":1737917753988,"duration":15842}},{"uid":"9ccbbc12a6643343","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/409//#testresult/9ccbbc12a6643343","status":"passed","time":{"start":1737917097323,"stop":1737917112866,"duration":15543}},{"uid":"810610c7eea57b15","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/407//#testresult/810610c7eea57b15","status":"passed","time":{"start":1737895746352,"stop":1737895760953,"duration":14601}},{"uid":"7f48ae6c6e0b59e2","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/406//#testresult/7f48ae6c6e0b59e2","status":"passed","time":{"start":1737856687968,"stop":1737856702336,"duration":14368}},{"uid":"cf243e6dd4dd202d","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/405//#testresult/cf243e6dd4dd202d","status":"passed","time":{"start":1737809435042,"stop":1737809449987,"duration":14945}},{"uid":"ab6f920766a9039c","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/404//#testresult/ab6f920766a9039c","status":"passed","time":{"start":1737769920593,"stop":1737769936856,"duration":16263}}]},"tags":["auth"]},"source":"6ba2fe1bd577fa76.json","parameterValues":["'chromium'"]}