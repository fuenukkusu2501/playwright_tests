{"uid":"5fcaa4aec530878e","name":"Добавление товара из карточки товара","fullName":"tests.test_add_to_cart#test_add_to_cart_from_ct","historyId":"e3b807891a03154a3816bbf24e239737","time":{"start":1729043512634,"stop":1729043520948,"duration":8314},"status":"broken","statusMessage":"TypeError: 'str' object is not callable","statusTrace":"page_fixture = <Page url='https://garwin.ru/catalog/ruchnoy-instrument'>\n\n    @pytest.mark.smoke\n    @allure.title(\"Добавление товара из карточки товара\")\n    def test_add_to_cart_from_ct(page_fixture):\n        # page.goto(f\"{url}/tovar/nabor-ruchnyh-instrumentov-94-predmeta\", wait_until='domcontentloaded')\n        page_fixture.goto(\"https://garwin.ru/catalog/ruchnoy-instrument\")\n        # Находим первый обьект в классе (первую карточку)(в листинге)\n        element_listing = page_fixture.locator(\".ProductTile__Row.ProductTile__Name\").nth(0)\n        # Извлекаем текст\n>       text_ct_listing = element_listing.inner_text()\n\ntests/test_add_to_cart.py:41: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py:17400: in inner_text\n    self._sync(self._impl_obj.inner_text(timeout=timeout))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py:442: in inner_text\n    return await self._frame.inner_text(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py:624: in inner_text\n    return await self._channel.send(\"innerText\", locals_to_params(locals()))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:63: in send\n    return await self._connection.wrap_api_call(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:495: in wrap_api_call\n    return await cb()\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:91: in inner_send\n    raise error\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:427: in dispatch\n    g.switch(self._replace_guids_with_channels(params))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py:178: in <lambda>\n    lambda params: self._on_request_failed(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py:580: in _on_request_failed\n    page.emit(Page.Events.RequestFailed, request)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:208: in emit\n    handled = self._call_handlers(event, args, kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:184: in _call_handlers\n    self._emit_run(f, args, kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py:53: in _emit_run\n    self.emit(\"error\", exc)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:211: in emit\n    self._emit_handle_potential_error(event, args[0] if args else None)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:169: in _emit_handle_potential_error\n    raise error\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py:51: in _emit_run\n    coro: Any = f(*args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_impl_to_api_mapping.py:123: in wrapper_func\n    return handler(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nrequest = <Request url='https://privacy-cs.mail.ru/fp/?id=sR7kqshZhIKZRRbQ_mIUG' method='POST'>\n\n    page.on(\"requestfailed\", lambda request: network_logs.append({\n        \"url\": request.url,\n        \"method\": request.method,\n>       \"error\": request.failure().error_text,\n        \"query_params\": parse_qs(urlparse(request.url).query)\n    }))\nE   TypeError: 'str' object is not callable\n\nconftest.py:68: TypeError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser_type_launch_args","time":{"start":1729043406518,"stop":1729043406519,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1729043406519,"stop":1729043406722,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1729043406723,"stop":1729043406723,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1729043406723,"stop":1729043406723,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1729043406723,"stop":1729043406897,"duration":174},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1729043512584,"stop":1729043512633,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"TypeError: 'str' object is not callable","statusTrace":"page_fixture = <Page url='https://garwin.ru/catalog/ruchnoy-instrument'>\n\n    @pytest.mark.smoke\n    @allure.title(\"Добавление товара из карточки товара\")\n    def test_add_to_cart_from_ct(page_fixture):\n        # page.goto(f\"{url}/tovar/nabor-ruchnyh-instrumentov-94-predmeta\", wait_until='domcontentloaded')\n        page_fixture.goto(\"https://garwin.ru/catalog/ruchnoy-instrument\")\n        # Находим первый обьект в классе (первую карточку)(в листинге)\n        element_listing = page_fixture.locator(\".ProductTile__Row.ProductTile__Name\").nth(0)\n        # Извлекаем текст\n>       text_ct_listing = element_listing.inner_text()\n\ntests/test_add_to_cart.py:41: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py:17400: in inner_text\n    self._sync(self._impl_obj.inner_text(timeout=timeout))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py:442: in inner_text\n    return await self._frame.inner_text(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py:624: in inner_text\n    return await self._channel.send(\"innerText\", locals_to_params(locals()))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:63: in send\n    return await self._connection.wrap_api_call(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:495: in wrap_api_call\n    return await cb()\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:91: in inner_send\n    raise error\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:427: in dispatch\n    g.switch(self._replace_guids_with_channels(params))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py:178: in <lambda>\n    lambda params: self._on_request_failed(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py:580: in _on_request_failed\n    page.emit(Page.Events.RequestFailed, request)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:208: in emit\n    handled = self._call_handlers(event, args, kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:184: in _call_handlers\n    self._emit_run(f, args, kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py:53: in _emit_run\n    self.emit(\"error\", exc)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:211: in emit\n    self._emit_handle_potential_error(event, args[0] if args else None)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:169: in _emit_handle_potential_error\n    raise error\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py:51: in _emit_run\n    coro: Any = f(*args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_impl_to_api_mapping.py:123: in wrapper_func\n    return handler(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nrequest = <Request url='https://privacy-cs.mail.ru/fp/?id=sR7kqshZhIKZRRbQ_mIUG' method='POST'>\n\n    page.on(\"requestfailed\", lambda request: network_logs.append({\n        \"url\": request.url,\n        \"method\": request.method,\n>       \"error\": request.failure().error_text,\n        \"query_params\": parse_qs(urlparse(request.url).query)\n    }))\nE   TypeError: 'str' object is not callable\n\nconftest.py:68: TypeError","steps":[],"attachments":[{"uid":"7c6be3a408862d87","name":"log","source":"7c6be3a408862d87.txt","type":"text/plain","size":6001}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1729043521119,"stop":1729043521247,"duration":128},"status":"broken","statusMessage":"TypeError: 'str' object is not callable\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 932, in _teardown_yield_fixture\n    next(it)\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/conftest.py\", line 77, in page_fixture\n    page.context.tracing.stop(path=trace_path)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 15606, in stop\n    return mapping.from_maybe_impl(self._sync(self._impl_obj.stop(path=path)))\n                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_tracing.py\", line 74, in stop\n    await self._connection.wrap_api_call(_inner, True)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 495, in wrap_api_call\n    return await cb()\n           ^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_tracing.py\", line 72, in _inner\n    await self._channel.send(\"tracingStop\")\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 63, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 490, in wrap_api_call\n    return await cb()\n           ^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 91, in inner_send\n    raise error\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 427, in dispatch\n    g.switch(self._replace_guids_with_channels(params))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py\", line 178, in <lambda>\n    lambda params: self._on_request_failed(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py\", line 580, in _on_request_failed\n    page.emit(Page.Events.RequestFailed, request)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py\", line 208, in emit\n    handled = self._call_handlers(event, args, kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py\", line 184, in _call_handlers\n    self._emit_run(f, args, kwargs)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py\", line 53, in _emit_run\n    self.emit(\"error\", exc)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py\", line 211, in emit\n    self._emit_handle_potential_error(event, args[0] if args else None)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py\", line 169, in _emit_handle_potential_error\n    raise error\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py\", line 51, in _emit_run\n    coro: Any = f(*args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_impl_to_api_mapping.py\", line 123, in wrapper_func\n    return handler(\n           ^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/conftest.py\", line 68, in <lambda>\n    \"error\": request.failure().error_text,\n             ^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1729044460790,"stop":1729044460941,"duration":151},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1729044460944,"stop":1729044460957,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_add_to_cart"},{"name":"host","value":"fv-az1251-122"},{"name":"thread","value":"4719-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_add_to_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":10,"unknown":0,"total":11},"items":[{"uid":"ec9a91b698c2db1b","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/175//#testresult/ec9a91b698c2db1b","status":"passed","time":{"start":1728999131446,"stop":1728999139659,"duration":8213}},{"uid":"3a7f59d1b3bbeacb","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/174//#testresult/3a7f59d1b3bbeacb","status":"passed","time":{"start":1728996521846,"stop":1728996530110,"duration":8264}},{"uid":"68429da4b1949ca7","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/173//#testresult/68429da4b1949ca7","status":"passed","time":{"start":1728996359201,"stop":1728996367143,"duration":7942}},{"uid":"b78dbb2489c8464d","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/172//#testresult/b78dbb2489c8464d","status":"passed","time":{"start":1728995660690,"stop":1728995670597,"duration":9907}},{"uid":"b35ea199586f4839","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/171//#testresult/b35ea199586f4839","status":"passed","time":{"start":1728988178496,"stop":1728988187816,"duration":9320}},{"uid":"cc83ab3c1871d034","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/170//#testresult/cc83ab3c1871d034","status":"passed","time":{"start":1728986427997,"stop":1728986439117,"duration":11120}},{"uid":"d36de902df42e75f","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/169//#testresult/d36de902df42e75f","status":"passed","time":{"start":1728985846131,"stop":1728985855514,"duration":9383}},{"uid":"bbd502b70dcd35b0","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/168//#testresult/bbd502b70dcd35b0","status":"passed","time":{"start":1728982368940,"stop":1728982377758,"duration":8818}},{"uid":"1473d90ae307e6a3","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/167//#testresult/1473d90ae307e6a3","status":"passed","time":{"start":1728979896898,"stop":1728979906892,"duration":9994}},{"uid":"9c63cf989d453939","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/166//#testresult/9c63cf989d453939","status":"passed","time":{"start":1728975114195,"stop":1728975124082,"duration":9887}}]},"tags":["smoke"]},"source":"5fcaa4aec530878e.json","parameterValues":["'chromium'"]}