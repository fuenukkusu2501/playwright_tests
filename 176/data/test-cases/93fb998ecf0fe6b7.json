{"uid":"93fb998ecf0fe6b7","name":"Добавление товара из листинга","fullName":"tests.test_add_to_cart#test_add_to_cart_from_listing","historyId":"348f734a2c63c30b4b3251b6b3612e62","time":{"start":1729043498682,"stop":1729043510812,"duration":12130},"status":"broken","statusMessage":"TypeError: 'str' object is not callable","statusTrace":"page_fixture = <Page url='https://garwin.ru/catalog/ruchnoy-instrument'>\n\n    @pytest.mark.smoke\n    @allure.title(\"Добавление товара из листинга\")\n    def test_add_to_cart_from_listing(page_fixture):\n        page_fixture.goto(f'{url}')\n        page_fixture.goto(\"https://garwin.ru/catalog/ruchnoy-instrument\")\n        # Добавляем первую карточку в листинге\n>       page_fixture.get_by_text(\"В корзину\").nth(0).click()\n\ntests/test_add_to_cart.py:15: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15864: in click\n    self._sync(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py:158: in click\n    return await self._frame.click(self._selector, strict=True, **params)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py:494: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:63: in send\n    return await self._connection.wrap_api_call(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:495: in wrap_api_call\n    return await cb()\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:91: in inner_send\n    raise error\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:427: in dispatch\n    g.switch(self._replace_guids_with_channels(params))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py:178: in <lambda>\n    lambda params: self._on_request_failed(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py:580: in _on_request_failed\n    page.emit(Page.Events.RequestFailed, request)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:208: in emit\n    handled = self._call_handlers(event, args, kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:184: in _call_handlers\n    self._emit_run(f, args, kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py:53: in _emit_run\n    self.emit(\"error\", exc)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:211: in emit\n    self._emit_handle_potential_error(event, args[0] if args else None)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:169: in _emit_handle_potential_error\n    raise error\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py:51: in _emit_run\n    coro: Any = f(*args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_impl_to_api_mapping.py:123: in wrapper_func\n    return handler(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nrequest = <Request url='https://privacy-cs.mail.ru/fp/?id=6_IFyIvmT9rQNLdxWVp4u' method='POST'>\n\n    page.on(\"requestfailed\", lambda request: network_logs.append({\n        \"url\": request.url,\n        \"method\": request.method,\n>       \"error\": request.failure().error_text,\n        \"query_params\": parse_qs(urlparse(request.url).query)\n    }))\nE   TypeError: 'str' object is not callable\n\nconftest.py:68: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browser_type_launch_args","time":{"start":1729043406518,"stop":1729043406519,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1729043406518,"stop":1729043406518,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1729043406519,"stop":1729043406722,"duration":203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1729043406723,"stop":1729043406723,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1729043406723,"stop":1729043406723,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1729043406723,"stop":1729043406897,"duration":174},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1729043498633,"stop":1729043498682,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"TypeError: 'str' object is not callable","statusTrace":"page_fixture = <Page url='https://garwin.ru/catalog/ruchnoy-instrument'>\n\n    @pytest.mark.smoke\n    @allure.title(\"Добавление товара из листинга\")\n    def test_add_to_cart_from_listing(page_fixture):\n        page_fixture.goto(f'{url}')\n        page_fixture.goto(\"https://garwin.ru/catalog/ruchnoy-instrument\")\n        # Добавляем первую карточку в листинге\n>       page_fixture.get_by_text(\"В корзину\").nth(0).click()\n\ntests/test_add_to_cart.py:15: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py:15864: in click\n    self._sync(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_locator.py:158: in click\n    return await self._frame.click(self._selector, strict=True, **params)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_frame.py:494: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:63: in send\n    return await self._connection.wrap_api_call(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:495: in wrap_api_call\n    return await cb()\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:91: in inner_send\n    raise error\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py:427: in dispatch\n    g.switch(self._replace_guids_with_channels(params))\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py:178: in <lambda>\n    lambda params: self._on_request_failed(\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py:580: in _on_request_failed\n    page.emit(Page.Events.RequestFailed, request)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:208: in emit\n    handled = self._call_handlers(event, args, kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:184: in _call_handlers\n    self._emit_run(f, args, kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py:53: in _emit_run\n    self.emit(\"error\", exc)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:211: in emit\n    self._emit_handle_potential_error(event, args[0] if args else None)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py:169: in _emit_handle_potential_error\n    raise error\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py:51: in _emit_run\n    coro: Any = f(*args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_impl_to_api_mapping.py:123: in wrapper_func\n    return handler(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nrequest = <Request url='https://privacy-cs.mail.ru/fp/?id=6_IFyIvmT9rQNLdxWVp4u' method='POST'>\n\n    page.on(\"requestfailed\", lambda request: network_logs.append({\n        \"url\": request.url,\n        \"method\": request.method,\n>       \"error\": request.failure().error_text,\n        \"query_params\": parse_qs(urlparse(request.url).query)\n    }))\nE   TypeError: 'str' object is not callable\n\nconftest.py:68: TypeError","steps":[],"attachments":[{"uid":"8b1d41f8ac289aad","name":"log","source":"8b1d41f8ac289aad.txt","type":"text/plain","size":11997}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1729043511029,"stop":1729043512430,"duration":1401},"status":"broken","statusMessage":"TypeError: 'str' object is not callable\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 932, in _teardown_yield_fixture\n    next(it)\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/conftest.py\", line 114, in page_fixture\n    page.context.close()\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/sync_api/_generated.py\", line 13892, in close\n    return mapping.from_maybe_impl(self._sync(self._impl_obj.close(reason=reason)))\n                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py\", line 523, in close\n    await self._channel.send(\"close\", {\"reason\": reason})\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 63, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 495, in wrap_api_call\n    return await cb()\n           ^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 91, in inner_send\n    raise error\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_connection.py\", line 427, in dispatch\n    g.switch(self._replace_guids_with_channels(params))\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py\", line 178, in <lambda>\n    lambda params: self._on_request_failed(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_browser_context.py\", line 580, in _on_request_failed\n    page.emit(Page.Events.RequestFailed, request)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py\", line 208, in emit\n    handled = self._call_handlers(event, args, kwargs)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py\", line 184, in _call_handlers\n    self._emit_run(f, args, kwargs)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py\", line 53, in _emit_run\n    self.emit(\"error\", exc)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py\", line 211, in emit\n    self._emit_handle_potential_error(event, args[0] if args else None)\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/base.py\", line 169, in _emit_handle_potential_error\n    raise error\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/pyee/asyncio.py\", line 51, in _emit_run\n    coro: Any = f(*args, **kwargs)\n                ^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/playwright/_impl/_impl_to_api_mapping.py\", line 123, in wrapper_func\n    return handler(\n           ^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/conftest.py\", line 68, in <lambda>\n    \"error\": request.failure().error_text,\n             ^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[{"uid":"ea42fe9ddcad32b9","name":"trace","source":"ea42fe9ddcad32b9.zip","type":"application/zip","size":2811323},{"uid":"55e786fed1d960ed","name":"failure_screenshot","source":"55e786fed1d960ed.png","type":"image/png","size":1418775},{"uid":"4ce411f4f09f6b8c","name":"page_source","source":"4ce411f4f09f6b8c.html","type":"text/html","size":946492},{"uid":"cb598495fabbed4e","name":"network_logs","source":"cb598495fabbed4e.json","type":"application/json","size":384793}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1729044460790,"stop":1729044460941,"duration":151},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1729044460944,"stop":1729044460957,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"smoke"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_add_to_cart"},{"name":"host","value":"fv-az1251-122"},{"name":"thread","value":"4719-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_add_to_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":9,"unknown":0,"total":11},"items":[{"uid":"d3c05620e69472b1","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/175//#testresult/d3c05620e69472b1","status":"broken","statusDetails":"TypeError: 'str' object is not callable","time":{"start":1728999123225,"stop":1728999130790,"duration":7565}},{"uid":"8cde879515137d10","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/174//#testresult/8cde879515137d10","status":"passed","time":{"start":1728996511814,"stop":1728996521775,"duration":9961}},{"uid":"d00cad866afc5883","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/173//#testresult/d00cad866afc5883","status":"passed","time":{"start":1728996348846,"stop":1728996359127,"duration":10281}},{"uid":"cc5daf01844dcad1","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/172//#testresult/cc5daf01844dcad1","status":"passed","time":{"start":1728995648306,"stop":1728995660619,"duration":12313}},{"uid":"ac7750ae4f5a2781","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/171//#testresult/ac7750ae4f5a2781","status":"passed","time":{"start":1728988168299,"stop":1728988178428,"duration":10129}},{"uid":"524d3e1379d3c095","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/170//#testresult/524d3e1379d3c095","status":"passed","time":{"start":1728986414783,"stop":1728986427926,"duration":13143}},{"uid":"73463fa7ccf85468","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/169//#testresult/73463fa7ccf85468","status":"passed","time":{"start":1728985833038,"stop":1728985846058,"duration":13020}},{"uid":"cd8f604bf401ad9","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/168//#testresult/cd8f604bf401ad9","status":"passed","time":{"start":1728982359286,"stop":1728982368871,"duration":9585}},{"uid":"91b539a449962166","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/167//#testresult/91b539a449962166","status":"passed","time":{"start":1728979886852,"stop":1728979896822,"duration":9970}},{"uid":"1fb7d10ff1fb663","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/166//#testresult/1fb7d10ff1fb663","status":"passed","time":{"start":1728975104389,"stop":1728975114131,"duration":9742}}]},"tags":["smoke"]},"source":"93fb998ecf0fe6b7.json","parameterValues":["'chromium'"]}