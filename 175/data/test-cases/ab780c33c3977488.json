{"uid":"ab780c33c3977488","name":"Изменение цены в блоке калькуляции по части позиций (Счетчик)","fullName":"tests.test_cart#test_cart_calculation_block_calculate_price_of_some_products","historyId":"77fe9079933e404427c3b8bc7254497c","time":{"start":1728999494017,"stop":1728999532380,"duration":38363},"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/bita-udarnaya-1-4-ph1-25mm'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение цены в блоке калькуляции по части позиций (Счетчик)\")\n    def test_cart_calculation_block_calculate_price_of_some_products(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:156: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f92ba0ecf80>\nurl = 'https://garwin.ru/tovar/bita-udarnaya-1-4-ph1-25mm'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.get_by_text(\" Добавить в корзину \").click()\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:92: ValueError","flaky":true,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1728999070510,"stop":1728999070511,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1728999070511,"stop":1728999070511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1728999070511,"stop":1728999070511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1728999070511,"stop":1728999070511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1728999070511,"stop":1728999070511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1728999070511,"stop":1728999070718,"duration":207},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop_policy","time":{"start":1728999070511,"stop":1728999070511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1728999070718,"stop":1728999070718,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1728999070719,"stop":1728999070719,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1728999070719,"stop":1728999070900,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page_fixture","time":{"start":1728999493956,"stop":1728999494016,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"ValueError: Product not available, please select another product","statusTrace":"page_fixture = <Page url='https://garwin.ru/tovar/bita-udarnaya-1-4-ph1-25mm'>\nbase_url = 'https://garwin.ru'\n\n    @allure.title(\"Изменение цены в блоке калькуляции по части позиций (Счетчик)\")\n    def test_cart_calculation_block_calculate_price_of_some_products(page_fixture, base_url):\n        cart_page = CartPage(page_fixture)\n>       cart_page.add_to_cart(base_url)\n\ntests/test_cart.py:156: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <page_objects.cart_page.CartPage object at 0x7f92ba0ecf80>\nurl = 'https://garwin.ru/tovar/bita-udarnaya-1-4-ph1-25mm'\n\n    @allure.step(\"Добавляю товар(stm) в корзину\")\n    def add_to_cart(self, url):\n        urls_to_check = [\n            f\"{url}/tovar/sverlo-spiralnoe-po-metallu-50-mm-hss-g-din338-5xd\",\n            f\"{url}/tovar/bita-udarnaya-1-4-ph1-25mm\"\n        ]\n    \n        for url in urls_to_check:\n            self.page.goto(url)\n    \n            try:\n                # Попытка найти и нажать кнопку \"Добавить в корзину\"\n                self.page.get_by_text(\" Добавить в корзину \").click()\n                break  # Прерываем цикл, если кнопка найдена и товар добавлен\n            except Exception:\n                print(f\"Add to cart button not found on {url}\")\n                continue  # Переходим к следующей ссылке, если кнопка не найдена\n        else:\n>           raise ValueError(\"Product not available, please select another product\")\nE           ValueError: Product not available, please select another product\n\npage_objects/cart_page.py:92: ValueError","steps":[{"name":"Добавляю товар(stm) в корзину","time":{"start":1728999494017,"stop":1728999532380,"duration":38363},"status":"broken","statusMessage":"ValueError: Product not available, please select another product\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/playwright_tests_UI/playwright_tests_UI/page_objects/cart_page.py\", line 92, in add_to_cart\n    raise ValueError(\"Product not available, please select another product\")\n","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://garwin.ru'"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"1d2201d3826c76c6","name":"log","source":"1d2201d3826c76c6.txt","type":"text/plain","size":17996}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page_fixture::0","time":{"start":1728999532401,"stop":1728999533226,"duration":825},"status":"passed","steps":[],"attachments":[{"uid":"42e33dd62568dfb9","name":"trace","source":"42e33dd62568dfb9.zip","type":"application/zip","size":1745659},{"uid":"7f28af260b3a2c06","name":"failure_screenshot","source":"7f28af260b3a2c06.png","type":"image/png","size":716570},{"uid":"365b8501ac56e7f","name":"page_source","source":"365b8501ac56e7f.html","type":"text/html","size":769933},{"uid":"6acacab0d28f7671","name":"network_logs","source":"6acacab0d28f7671.json","type":"application/json","size":428037}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1728999809599,"stop":1728999809749,"duration":150},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1728999809753,"stop":1728999809772,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_cart"},{"name":"host","value":"fv-az774-794"},{"name":"thread","value":"4659-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":1,"skipped":0,"passed":6,"unknown":0,"total":10},"items":[{"uid":"19830db91ee6df73","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/174//#testresult/19830db91ee6df73","status":"passed","time":{"start":1728996720446,"stop":1728996729944,"duration":9498}},{"uid":"66e0dee820e99135","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/173//#testresult/66e0dee820e99135","status":"passed","time":{"start":1728996557234,"stop":1728996567433,"duration":10199}},{"uid":"9ad47cc8dcb6867","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/172//#testresult/9ad47cc8dcb6867","status":"passed","time":{"start":1728995877839,"stop":1728995888455,"duration":10616}},{"uid":"7fdb7de385f570bb","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/171//#testresult/7fdb7de385f570bb","status":"failed","statusDetails":"AssertionError: assert 192 == 384.0","time":{"start":1728988421588,"stop":1728988434303,"duration":12715}},{"uid":"75971947e9acb1e9","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/170//#testresult/75971947e9acb1e9","status":"failed","statusDetails":"AssertionError: assert 384 == 192.0","time":{"start":1728986847408,"stop":1728986860412,"duration":13004}},{"uid":"fc004dd9aa07d86e","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/169//#testresult/fc004dd9aa07d86e","status":"passed","time":{"start":1728986072040,"stop":1728986083406,"duration":11366}},{"uid":"a12b3d545c4772ba","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/168//#testresult/a12b3d545c4772ba","status":"passed","time":{"start":1728982616499,"stop":1728982626866,"duration":10367}},{"uid":"1aeb30f5d1b055ef","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/167//#testresult/1aeb30f5d1b055ef","status":"failed","statusDetails":"AssertionError: assert 384 == 192.0","time":{"start":1728980208183,"stop":1728980221269,"duration":13086}},{"uid":"61ebf586f61f1b85","reportUrl":"https://garagetools-garwin.github.io/playwright_tests_UI/166//#testresult/61ebf586f61f1b85","status":"passed","time":{"start":1728975312738,"stop":1728975322059,"duration":9321}}]},"tags":[]},"source":"ab780c33c3977488.json","parameterValues":["'chromium'"]}